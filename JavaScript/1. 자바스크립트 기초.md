## 컴파일러 언어 vs 인터프리터 언어
둘 다 코드를 변환하지만, 컴파일러는 전체를 한 번에 다 변환하고 난 후에 실행하고 인터프리터는 한 줄 단위로 변환과 실행을 반복한다는 차이가 있다.

| 컴파일러                                                     | 인터프리터                                                   |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| 컴파일 타임에 소스 코드 전체를 한번에 [머신 코드](https://ko.wikipedia.org/wiki/기계어)(CPU가 바로 실행할 수 기계어)로 변환한 후 실행한다. | 런타임에 문 단위로 한 줄씩 중간 코드인 [바이트 코드](https://ko.wikipedia.org/wiki/바이트코드)(특정한 하드웨어가 아니라 가상 머신에서 실행하도록 만든 바이너리 코드)로 변환한 후 실행한다. |
| 실행 파일을 생성한다.                                        | 실행 파일을 생성하지 않는다.                                 |
| 컴파일 단계와 실행 단계가 분리되어 있다. 명시적인 컴파일 단계를 거쳐서 명시적으로 실행 파일을 실행한다. | 인터프리트 단계와 실행 단계가 분리되어 있지 않다. 인터프리터는 한 줄씩 바이트 코드로 변환하고 즉시 실행한다. |
| 컴파일은 단 한번 수행된다.                                   | 코드가 실행될 때마다 인터프리트 과정이 반복 수행된다.        |
| 컴파일과 실행 단계가 분리되어 있으므로 코드 실행 속도가 빠르다. | 인터프리트 단계와 실행 단계가 분리되어 있지 않고 반복 수행되므로 코드 실행 속도가 비교적 느리다. |

## Syntax & Semantics
문법 & 의미

Syntax는 그야말로 프로그래밍 언어가 지켜야 할 문법이고, Semantic은 의미가 있는 코드이다.

## ES6에서 새로 도입된 기능은?

- let, const
- class
- arrow function
- template literal
- destructuring assignment
- spread syntax
- rest parameter
- Symbol
- Promise
- Map/Set
- iterator/generator
- module import/export

## JavaScript와 ECMAScript ?

ECMASCript는 자바스크립트의 표준 명세인 ECMA-262를 말하며 프로그래밍 언어의 타입, 값, 객체와 프로퍼티, 함수, 빌트인 객체 등 핵심 문법(core syntax)을 규정

자바스크립트는 일반적으로 프로그래밍 언어로의 뼈대를 이루는 ECMAScript와 브라우저가 별도로 지원하는 클라이언트 사이드 Web API를 아우르는 개념

DOM, BOM, Canvas, XMLHttpRequest, Fetch, requestAnimatioonFrame, SVG, Web Storage, Web Component, Web Worker 등이 Web API에 속한다.

## 웹 브라우저는 어떻게 동작하는가?

자바스크립트는 Node.js로 서버 사이드에서도 동작하지만 역시 웹 브라우저 환경에서 가장 많이 사용된다. 따라서 웹 브라우저 환경을 이해하고 있어야 보다 효율적인 자바스크립트 프로그래밍이 가능하다.

#### 브라우저의 핵심 기능

사용자가 참조하고자 하는 웹 페이지를 서버에 요청(Request)하고 서버의 응답(Response)를 받아 브라우저에 표시하는 것

브라우저는 서버로부터 HTML, CSS, JavaScript, 이미지 파일 등을 응답 받는다.

**HTML 파일** : 렌더링 엔진의 HTML 파서가 파싱하여 DOM 트리 생성

**CSS 파일** : 렌더링 엔진의 CSS 파서가 파싱하여 CSSOM 트리 생성

생성된 DOM, CSSOM 트리는 렌더 트리로 결합된다.

**자바스크립트** : 렌더링 엔진이 아닌 자바스크립트 엔진이 처리. HTML 파서가 파싱 중에 script 태그를 만나면 자바스크립트 코드를 **실행하기 위해** DOM 생성을 중지하고 자바스크립트 엔진으로 제어 권한을 넘긴다.

자바스크립트 엔진은  제어 권한을 받아 script 태그 내의 자바스크립트 코드 (또는 script 태그의 src 어트리뷰트에 정의된 자바스크립트 파일) 를 **로드하고 파싱하여 실행**한다.

- **토크나이징(Tokenizing)**

  단순한 문자열인 소스 코드를 어휘 분석(Lexical analysis)하여 의미를 갖는 코드의 최소 단위인 토큰(Token)들로 분리한다. 이 과정을 렉싱(Lexing)이라고 부르기도 하지만 토크나이징과 미묘한 차이가 있다.

- **파싱(Parsing)**

  토큰들의 집합을 구문 분석(Syntactic analysis)하여 AST(Abstract Syntax Tree, 추상적 구문 트리)를 생성한다. AST는 토큰에 문법적 의미와 구조를 반영한 트리 구조의 자료 구조이다.

- **코드 실행**

  생성된 AST는 인터프리터가 실행할 수 있는 중간 코드(Intermediate code)인 바이트 코드(bytecode)로 변환되고 인터프리터에 의해 실행된다. 참고로 V8 엔진의 경우, 자주 사용되는 코드는 터보팬(TurboFan)이라 불리는 컴파일러에 의해 최적화된 머신 코드(Optimized Machine Code)로 컴파일되어 성능을 최적화한다. 만약 코드의 사용 빈도가 적어지면 다시 Deoptimizing하기도 한다.

중요한 것은 자바스크립트 코드는 AST로 파싱되어 한 줄 씩 바이트코드로 변환되며 실행된다는 것인데, HTML 파싱이 덜 끝난 상태(blocking)에서 DOM을 조작하는 자바스크립트 코드가 실행되면 런타임에 에러가 나게 된다.

> #### script 태그의 async / defer 어트리뷰트
>
> **async**
>
> 웹페이지 파싱과 외부 스크립트 파일의 다운로드가 동시 진행되며 스크립트는 다운로드 완료 직후 실행된다.
>
> **defer**
>
> 웹 페이지 파싱과 외부 스크립트 파일의 다운로드가 동시 진행되는 것은 같으며 스크립트는 웹 페이지의 파싱 완료 직후 실행된다.
>
> 두 가지 어트리뷰트 모두 IE9 이하에서는 정상 동작하지 않을 수 있으니 script tag는 HTML 문서 가장 끝에 작성하도록 하자.