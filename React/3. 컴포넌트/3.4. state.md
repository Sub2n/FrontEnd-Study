# state

리액트에서 **state는 컴포넌트 내부에서 바뀔 수 있는 값**을 의미한다.

props는 컴포넌트가 사용되는 과정에서 해당 컴포넌트를 사용하는 부모 컴포넌트가 설정하는 값이며, 컴포넌트는 **자신의 props를 변경하지 못하고 읽기 전용(read-only)으로만 사용**할 수 있다. props를 바꿀 수 있는 것은 부모 컴포넌트 뿐이다.

* props: 부모 컴포넌트에서 넘겨주는 값
* state: 내 컴포넌트에서 변경될 수 있는 값

리액트에는 두가지 state가 있다. 하나는 **클래스형 컴포넌트가 가지는 state**이고, 다른 하나는 **함수형 컴포넌트에서 useState 함수를 통해 사용하는 state**이다.

## 1. 클래스형 컴포넌트의 state

Counter.js를 생성한다.

```jsx
import React, { Component } from 'react';

class Counter extends Component {
  constructor(props) {
    super(props);
    this.state = {
      number: 0
    };
  }
  render() {
    const { number } = this.state;
    return (
      <div>
        <h1>{number}</h1>
        <button
          onClick={() => {
            this.setState({ number: number + 1 });
          }}>
          +1
        </button>
      </div>
    );
  }
}

export default Counter;
```

#### constructor

컴포넌트에 state를 설정할 때는 constructor를 작성해 설정한다.

```jsx
constructor(props) {
    super(props);
    this.state = {
      number: 0
    };
  }
```

컴포넌트의 생성자 메서드인 constructor를 작성할 때는 반드시 `super(props)`를 호출해줘야 한다.

`super(props)` 호출시 현재 클래스형 컴포넌트가 상속하고 있는 리액트의 Component 클래스가 가진 constructor가 실행되어 상속이 진행된다.

이후에 `this.state` 값에 초깃값을 설정해준다. 컴포넌트의 state는 객체 형식이어야 한다.

#### render

```jsx
render() {
    const { number } = this.state;
    return (
      <div>
        <h1>{number}</h1>
        <button
          onClick={() => {
            this.setState({ number: number + 1 });
          }}>
          +1
        </button>
      </div>
    );
  }
```

render 함수에서 현재 state 조회시 this.state를 조회한다.

또한 button 안에 onClick이라는 값을 props로 넣어 이벤트를 설정했다. **이벤트로 설정할 함수를 넣을 때는 화살표 문법을 사용하여 넣어주어야 한다.** state를 참조할 때 this를 사용하기 때문이다. 화살표 함수는 Lexical this를 사용하기 때문에 호출 방법과 무관하게 언제나 선언된 Scope의 this를 참조할 수 있다.

this.setState를 이용해서 state 값을 변경할 수 있다.

### 1.1. state 객체 안에 여러 값이 있을 때

### 1.2. state를 constructor에서 꺼내기

### 1.3. this.setState에 객체 대신 함수 인자 전달하기

### 1.4. this.setState가 끝난 후 특정 작업 실행하기



## 2. 함수형 컴포넌트에서 useState 사용하기

