# 1. SPA란?

**SPA**는 **Single Page Application**의 약어로, 말 그대로 **한 페이지로 이루어진 애플리케이션**이라는 의미다.

## 전통적인 웹 방식(SSR: Sever Side Rendering)

**전통적인 웹 페이지**는 사용자가 다른 페이지로 이동할 때마다 서버에서 html 파일과 리소스를 받아 새로운 페이지를 화면에 보여줬다. **사용자에게 보여주는 화면을 서버 측에서 준비**했다.

요즘은 웹에서 제공되는 정보가 매우 많기 때문에 새로운 화면을 보여줘야할 때마다 서버 측에서 모든 뷰를 준비한다면 성능 상의 문제가 발생할 수 있다. (과도한 트래픽 발생, 서버에 높은 부하 등)

속도와 트래픽 측면에서는 캐싱과 압축을 하면 어느 정도 완화될 수 있지만, 사용자와의 인터랙션이 자주 발생하는 모던 웹 애플리케이션에는 적당하지 않을 수 있다. 애플리케이션 내에서 화면 전환이 일어날 때마다 html을 계속해서 서버에 요청하면 

- **사용자의 인터페이스에서 사용하고 있던 상태를 유지하는 것도 번거롭고, **
- **바뀌지 않은 부분까지 새로 불러와서 보여줘야하기 때문에 비효율적**이다.

## SPA | Client Side Rendering

전통적 웹 방식에 대한 대책으로 리액트 같은 라이브러리 혹은 프레임워크를 사용하여 뷰 렌더링을 사용자의 브라우저가 담당하게 하고, 먼저 **애플리케이션을 브라우저에 불러와서 실행**시킨 후에 사용자와의 **인터랙션이 발생하면 필요한 부분만 자바스크립트를 사용해서 업데이트**해준다.

## SPA는 한 종류의 화면만 존재하는 것이 아니다!

서버에서 사용자에게 제공하는 페이지는 한 종류이지만, 해당 페이지에서 로딩된 자바스크립트와 현재 사용자 브라우저의 주소 상태에 따라서 다양한 화면을 보여줄 수 있다.

## 라우팅(Routing)이란?

**주소에 따라 다른 뷰를 렌더링하는 것**을 라우팅이라고 한다. 리액트 라이브러리 자체에 기능이 내장되어있지 않아서 react-router, reach-router, Next.js 등 여러 라우팅 라이브러리를 사용한다.

## SSR / CSR 비교

|      | 서버 사이드 렌더링                                           | 클라이언트 사이드 렌더링                                     |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 장점 | 1. SEO 가능<br />2. 초기로딩속도 빠름                        | 1. 트래픽 감소<br />2. 네이티브 앱과 비슷한 사용자 경험 제공 |
| 단점 | 1. React에서 서버사이드 렌더링 구현시 프로젝트 복잡해짐<br />2. 성능 악화 가능성 | 1. SEO 필요                                                  |



## SPA 단점

1. **앱의 규모가 커지면 자바스크립트 파일이 너무 커진다. 최초 로딩 속도가 느려진다.**

   페이지 로딩 시 사용자가 실제로 방문하지 않을 수도 있는 페이지의 스크립트도 불러오기 때문이다. 이 점은 코드 스플리팅(code spliting)을 사용해 라우트별로 파일을 나누어 트래픽과 로딩 속도를 개선할 수 있다.

2. 자바스크립트를 실행하지 않는 일반 크롤러에서 페이지의 정보를 제대로 수집해 가지 못 한다. 검색 엔진 최적화(SEO)가 필요하다.

3. 자바스크립트가 실행될 때까지 페이지가 비어 있기 때문에 파일이 로딩되어 실행되는 동안 흰 페이지가 나타날 수 있다.

이러한 문제점들은 서버 사이드 렌더링을 통해 모두 해결할 수 있다.

