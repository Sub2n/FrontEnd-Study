# React

리액트는 자바스크립트 라이브러리로 사용자 인터페이스를 만드는 데 사용한다.

MVC, MVW 등의 구조를 가진 프레임워크와 다르게 **오직 V(View)만 신경 쓰는 라이브러리**이다.

## Component

리액트 프로젝트에서 특정 부분이 어떻게 생길지 정하는 선언체. 타 프레임워크에서 UI를 다룰 때 사용하는 템플릿과는 다른 개념이다. 데이터가 주어지면 HTML 태그 형식을 문자열로 반환하는 템플릿과 달리 컴포넌트는 더 복잡하다.

컴포넌트는 **재사용이 가능한 API**로, 수많은 기능을 내장하며 한 **컴포넌트는 자신의 생김새와 작동 방식을 정의한다.**

## Rendering

사용자 화면에 뷰를 보여주는 것을 렌더링이라고 한다.

리액트 라이브러리가 데이터 변경에 따른 재렌더링을 하며 성능을 아끼고 최적의 UX를 제공하는 방법은 **컴포넌트가 최초로 실행하는 '초기 렌더링'**과 **컴포넌트 데이터 변경으로 실행되는 '리렌더링'**이다.

### 1. 초기 렌더링

맨 처음 화면에 어떻게 보일지 정하는 초기 렌더링을 다루는 **render 함수**가 있다.

```javascript
render() { ... }
```

**render 함수의 역할은 컴포넌트가 어떻게 생겼는지 정의하는 것**이다. html 형식의 문자열을 리턴하지 않고 **뷰가 어떻게 생겼고 어떻게 작동하는지에 대한 정보를 가진 객체를 반환**한다.

컴포넌트 내부에 또 다른 컴포넌트들이 들어갈 수 있으며 **render 함수를 실행하면 내부 컴포넌트들의 render 함수들 또한 재귀적으로 실행되어 재귀적 렌더링**이된다. 따라서 최상위 컴포넌트의 렌더링 작업이 끝나면 반환된 정보들을 사용하여 HTML markup을 만들고 실제 페이지의 DOM 요소 안에 주입한다.

#### 컴포넌트를 실제 페이지에 렌더링하는 방법

1. 문자열 형태의 HTML 코드 생성
2. 생성된 HTML 코드를 특정 DOM에 주입하면 이벤트가 적용됨

### 2. 조화 과정 (reconciliation)

리액트에서 뷰를 업데이트하는 것은 사실은 업데이트가 아니다. 컴포넌트의 데이터가 변화할때 뷰가 변형되는 것처럼 보이지만 **사실은 새로운 요소로 갈아끼우기 때문**이다. 따라서 업데이트 과정이 아닌 조화 과정으로 부른다.

이 작업 또한 render 함수가 수행한다. render 함수는 뷰가 어떻게 생겼고 어떻게 작동하는지에 대한 정보를 가진 객체를 반환한다. 이 점을 이용하여 컴포넌트는 데이터를 업데이트 할 때 데이터를 수정하고 나서 render 함수를 호출한다. 그러면 render 함수는 **새로운 데이터를 가진 뷰를 생성**한다.

그러나 이 때 render 함수가 반환한 결과를 곧바로 DOM에 반영하지 않고 **이전에 render 함수로부터 만들어졌던 컴포넌트 정보와 새로 만들어진 컴포넌트 정보를 비교**한다. 자바스크립트를 사용하여 두 컴포넌트를 최소한의 연산으로 비교한 후 차이가 나는 부분만 DOM 트리를 업데이트 한다.

즉, 리액트는 데이터의 변경이 일어날 때마다 전체 컴포넌트를 새로 렌더링하는 것처럼 보이지만 DOM 트리 비교 작업을 통해서 **최소 부분만 변경**한다.

